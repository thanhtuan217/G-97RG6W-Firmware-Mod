<% PrintTemplate1(); %>
<style type="text/css">
</style>
<script type="text/javascript">
//<![CDATA[

//init data started
var enable=0;
var usrate=0;
var count=0;
var rules_max=0;
var rules = new Array();

var queue_num = 0;
var queue = new Array();
var uniMode = new Array();

//data from web server started
<% QOS_XGetConfig(); %>
//data from web server ended

//init data ended

//Client contents started.
var port_min = 1;
var port_max = 65535;

var dscp_show = new Array();
dscp_show[56]="CS7 - 111000";
dscp_show[48]="CS6 - 110000";
dscp_show[46]="EF - 101110";
dscp_show[40]="CS5 - 101000";
dscp_show[34]="AF41 - 100010";
dscp_show[36]="AF42 - 100100";
dscp_show[38]="AF43 - 100110";
dscp_show[32]="CS4 - 100000";
dscp_show[26]="AF31 - 011010";
dscp_show[28]="AF32 - 011100";
dscp_show[30]="AF33 - 011110";
dscp_show[24]="CS3 - 011000";
dscp_show[18]="AF21 - 010010";
dscp_show[20]="AF22 - 010100";
dscp_show[22]="AF23 - 010110";
dscp_show[16]="CS2 - 010000";
dscp_show[10]="AF11 - 001010";
dscp_show[12]="AF12 - 001100";
dscp_show[14]="AF13 - 001110";
dscp_show[8]="CS1 - 001000";

//cls protocol in bit mask
var CLS_PROTO_ALL = (0);
var CLS_PROTO_TCP = (1);
var CLS_PROTO_UDP = (2);
var CLS_PROTO_BOTH = (3);
var CLS_PROTO_ICMP = (4);

var proto_show = new Array();
proto_show[CLS_PROTO_ALL] = XqosString[105];//"ALL";
proto_show[CLS_PROTO_TCP] = XqosString[61];//"TCP";
proto_show[CLS_PROTO_UDP] = XqosString[62];//"UDP";
proto_show[CLS_PROTO_BOTH] = XqosString[63];//"TCP/UDP";
proto_show[CLS_PROTO_ICMP] = XqosString[65];//"ICMP";

function showQosEnable(en)
{
	//qos enable
	if(en)
	{
		$("#qos_en").attr("checked", true);
		$("#qos_content").show();
	}
	else
	{
		$("#qos_dis").attr("checked", true);
		$("#qos_content").hide();
	}
	WebStepIndex();
}

function showQueueList(queueArr, queueNum)
{
	//queue list
	var str = "";
	var i = 0;
	var queue_index=0;
	for (i=0; i<queueNum; i++)
	{
		queue_index = i+1;
		str = "";
		
	    if(i != 7)
		{
		    str +=(
'						<tr align="center">'+
'							<td>' + XqosString[7] + ' ' + queue_index +'</td>'
		    );
		}	
		else
		{
		    str +=(
'						<tr align="center">'+
'							<td>' + XqosString[7] + ' ' + queue_index + ' default' + '</td>'
		    );
		}
		if(queueArr[i].queue_enable != 0)
		{
			str +=(
'							<td>'+ XqosString[2] +'</td>' 
			);
			
			if(queueArr[i].queue_mode == 0)
			{
				str +=(
'							<td>SP</td>' +
'							<td>' + (queueArr[i].queue_priority) + '</td>'+
'							<td>'+ "" + '</td>'
				);
			}
			else
			{
				str +=(
'							<td>WRR</td>' +
'							<td>' + "" + '</td>'+
'							<td>'+ (queueArr[i].queue_weight) + '</td>'
				);
			}
			
			str +=(
'							<td class="class_rate_content_show">'+ (queueArr[i].queue_rate) + '</td>'+
'						</tr>'
			);
		}
		else
		{
			str +=(
'							<td>'+ XqosString[3] +'</td>' +
'							<td></td>'+
'							<td></td>'+
'							<td></td>'+
'							<td class="class_rate_content_show"></td>'+
'						</tr>'
			);
		}
		$("#table_queue_list").append(str);
	}
}

function showRuleList(ruleArr, ruleNum)
{
	//rule list
	var i = 0;
	var rule_index=0;
	var str = "";
	var stmp;
	for (i=0; i<ruleNum; i++)
	{
		rule_index = i+1;
		str += ('<tr align="center">');
		//rule index
		str += ('<td>'+ rule_index +'</td>');
		//cls type
		//str += ('<td>'+ qos_type_show[ruleArr[i].clsType] +'</td>');
		
		str += (
			'<td>'
			+ XqosString[34] +': '+ proto_show[ruleArr[i].cls_proto] +'<br />'
		);
		if(ruleArr[i].cls_srcIp != "0.0.0.0" && ruleArr[i].cls_srcMask != "0.0.0.0")
		{
			str += (
				XqosString[38] +': '+ ruleArr[i].cls_srcIp +'<br />'
				+ XqosString[39] +': '+ ruleArr[i].cls_srcMask+'<br />'
			);
		}
		if(ruleArr[i].cls_srcPort != "0" && ruleArr[i].cls_srcPortMax != "0")
		{
			str += XqosString[40] +': '+ ruleArr[i].cls_srcPort +'-'+ ruleArr[i].cls_srcPortMax +'<br />';
		}
		if(ruleArr[i].cls_dstIp != "0.0.0.0" && ruleArr[i].cls_dstMask != "0.0.0.0")
		{
			str += (
				XqosString[42] +': '+ ruleArr[i].cls_dstIp +'<br />'
				+ XqosString[43] +': '+ ruleArr[i].cls_dstMask +'<br />'
			);
		}
		if(ruleArr[i].cls_dstPort != "0" && ruleArr[i].cls_dstPortMax != "0")
		{
			str += XqosString[44] +': '+ ruleArr[i].cls_dstPort +'-'+ ruleArr[i].cls_dstPortMax;
		}
		str += '</td>';

		//remark
		//str += '<td>';
		//pbit
		//if(ruleArr[i].action_pbit >= 0)
		//	str += ('Pbit: '+ ruleArr[i].action_pbit + '<br />');
		//dscp
		//if(ruleArr[i].action_dscp >= 0)
		//	str += ('Dscp:<br />'+ dscp_show[ruleArr[i].action_dscp]  + '<br />');
		//str += '</td>';

		//to queue
		if(ruleArr[i].action_queue >= 7)
		{
		    stmp = XqosString[80];			
		}
		else if(ruleArr[i].action_queue >= 5)
		{
		    stmp = XqosString[101];	
		}
		else if(ruleArr[i].action_queue >= 3)
		{
	        stmp = XqosString[102];		
		}
		else
		{
		    stmp = XqosString[103];	 
		}
		
		str += ('<td>'+ stmp +'</td>');
		
		//discription
		
		str += ('<td>'+ ruleArr[i].cls_discription +'</td>');
		
		//remove
		str += ('<td><a href="#" class="btn remove_btn" onclick="doSubmit(2,' + rule_index +')" id="XS21">'+ XqosString[21] +'</a></td>')

		str += ('</tr>');
	}
	$("#table_rule_list").append(str);
}

function showRuleQueueSelection(queueNum)
{
	//action queue

	$("#action_queue").append(
			'<option value='+ 7 +'>' + XqosString[80] + '</option>'
		);
	$("#action_queue").append(
			'<option value='+ 5 +'>' + XqosString[101] + '</option>'
		);
    $("#action_queue").append(
			'<option value='+ 3 +'>' + XqosString[102] + '</option>'
		);
    $("#action_queue").append(
			'<option value='+ 2 +'>' + XqosString[103] + '</option>'
		);	
}

function doActionPbit()
{
	if($("#action_pbit").attr("checked") == "checked")
	{
		$("#action_pbitVal").removeAttr("disabled")
	}
	else
	{
		$("#action_pbitVal").attr("disabled", "disabled")
	}
}

function doActionDscp()
{
	if($("#action_dscp").attr("checked") == "checked")
	{
		$("#action_dscpVal").removeAttr("disabled")
	}
	else
	{
		$("#action_dscpVal").attr("disabled", "disabled")
	}
}

function haveSameRule(curRule, ruleArr, ruleCount)
{
	var i = 0;

	for(i=0; i<ruleCount; i++)
	{
		if(
			((curRule.cls_proto & ruleArr[i].cls_proto) != 0) &&
			curRule.cls_srcIp == ruleArr[i].cls_srcIp &&
			curRule.cls_srcMask == ruleArr[i].cls_srcMask &&
			curRule.cls_dstIp == ruleArr[i].cls_dstIp &&
			curRule.cls_dstMask == ruleArr[i].cls_dstMask &&
			curRule.cls_srcPort == ruleArr[i].cls_srcPort &&
			curRule.cls_srcPortMax == ruleArr[i].cls_srcPortMax &&
			curRule.cls_dstPort == ruleArr[i].cls_dstPort &&
			curRule.cls_dstPortMax == ruleArr[i].cls_dstPortMax
		)
		{
			return i+1;
		}
	}

	return 0;
}

function doCheckRuleAdd(ruleCount, ruleMax)
{
	var ret = 0;
	var val = 0;
	var val2 = 0;
	var str = "";
	var curRule = new Object();

	//check rule max limitation
	if(ruleCount >= ruleMax)
	{
		str = WebString.qos_rule_max_limitaion_alert + " )" + ruleMax + ")\r\n";
		alert(str);
		return 0x100;
	}

	//get current rule value
	curRule.cls_proto = $("#cls_proto").attr("value");
	curRule.cls_srcIp = $("#cls_srcIp").attr("value");
	curRule.cls_srcMask = $("#cls_srcMask").attr("value");
	curRule.cls_srcPort = $("#cls_srcPort").attr("value");
	curRule.cls_srcPortMax = $("#cls_srcPortMax").attr("value");
	curRule.cls_dstIp = $("#cls_dstIp").attr("value");
	curRule.cls_dstMask = $("#cls_dstMask").attr("value");
	curRule.cls_dstPort = $("#cls_dstPort").attr("value");
	curRule.cls_dstPortMax = $("#cls_dstPortMax").attr("value");
	curRule.action_queue = $("#action_queue").attr("value");
	curRule.cls_discription = $("#cls_discription").attr("value");
	
	if($("#action_dscp").attr("checked") == "checked")
	{
		curRule.action_dscp = $("#action_dscpVal").attr("value");
	}
	else
	{
		curRule.action_dscp = -1;
	}
	
	if($("#action_pbit").attr("checked") == "checked")
	{
		curRule.action_pbit = $("#action_pbitVal").attr("value");
	}
	else
	{
		curRule.action_pbit = -1;
	}

	//check input valid
	//check ip
	if(curRule.cls_srcIp != "")
	{
	    if (false == isValidUnicastIpAddress($("#cls_srcIp").val(), $("#cls_srcMask").val()))
	    {
		    alert(WebString.unicastip); 
		    return 0x10000;  
		} 	
		if(!isValidIpAddress(curRule.cls_srcIp))
		{
			ret |= 0x1; //srcIp format error
			str += WebString.qos_rule_srcIp_alert + "\r\n";
		}
		if(curRule.cls_srcMask != "")
		{
			if(!isValidSubnetMask(curRule.cls_srcMask))
			{
				ret |= 0x2; //srcMask format error
				str += WebString.qos_rule_srcMask_alert + "\r\n";
			}
		}
		else //mask empty set to default
		{
			curRule.cls_srcMask = "255.255.255.255";
		}

		if((ret & 0x3) == 0)
		{
			var ipInt = Ip2Num(curRule.cls_srcIp);
			var maskInt = Ip2Num(curRule.cls_srcMask);

			if ((!isClassfullIpInt(ipInt, maskInt))
			|| isIpMaskInt(ipInt)
			|| isMultiCastIpInt(ipInt)
			|| isLoopBackIpInt(ipInt)
			|| isNetworkNumberInt(ipInt, maskInt)
			|| isBroadCastIpInt(ipInt, maskInt)
			)
			{
				ret |= 0x3;
				str += WebString.qos_rule_srcIpMask_alert + "\r\n";
			}
		}
	}
	else
	{
		curRule.cls_srcIp = "0.0.0.0"
		//ip empty so mask empty.
		curRule.cls_srcMask = "0.0.0.0";
	}
	//check if port empty.
	if( !(curRule.cls_srcPort == "" && curRule.cls_srcPortMax == "") )
	{
		if(curRule.cls_srcPort == "")
		{
			curRule.cls_srcPort = curRule.cls_srcPortMax;
		}
		if(curRule.cls_srcPortMax == "")
		{
			curRule.cls_srcPortMax = curRule.cls_srcPort;
		}
		//here srcPort and srcPortMax must be couple.
		if(!(IsPort(curRule.cls_srcPort) && IsPort(curRule.cls_srcPortMax) 
			&& Number(curRule.cls_srcPort) >= port_min && Number(curRule.cls_srcPort) <= port_max
			&& Number(curRule.cls_srcPortMax) >= port_min && Number(curRule.cls_srcPortMax) <= port_max)
		)
		{
			ret |= 0x4; //srcPort range format error
			str += WebString.qos_rule_srcPortRange_alert_FE_OOR + " ("+ port_min + "-" + port_max +")\r\n";
		}
		else if(Number(curRule.cls_srcPort) > Number(curRule.cls_srcPortMax))
		{
			ret |= 0x8; //invalid range
			str += WebString.qos_rule_srcPortRange_alert_IR + "\r\n";
		}
	}
	else
	{
		//set to invalid value.
		curRule.cls_srcPort = "0";
		curRule.cls_srcPortMax = "0";
	}
	
	//check ip
	if(curRule.cls_dstIp != "")
	{
		if(!isValidIpAddress(curRule.cls_dstIp))
		{
			ret |= 0x10; //dstIp format error
			str += WebString.qos_rule_dstIp_alert + "\r\n";
		}
		if(curRule.cls_dstMask != "")
		{
			if(!isValidSubnetMask(curRule.cls_dstMask))
			{
				ret |= 0x20; //dstMask format error
				str += WebString.qos_rule_dstMask_alert + "\r\n";
			}
		}
		else //mask empty set to default
		{
			curRule.cls_dstMask = "255.255.255.255";
		}

		if((ret & 0x30) == 0)
		{
			var ipInt = Ip2Num(curRule.cls_dstIp);
			var maskInt = Ip2Num(curRule.cls_dstMask);

			if ((!isClassfullIpInt(ipInt, maskInt))
			|| isIpMaskInt(ipInt)
			|| isMultiCastIpInt(ipInt)
			|| isLoopBackIpInt(ipInt)
			|| isNetworkNumberInt(ipInt, maskInt)
			|| isBroadCastIpInt(ipInt, maskInt)
			)
			{
				ret |= 0x30;
				str += WebString.qos_rule_dstIpMask_alert + "\r\n";
			}
		}
	}
	else
	{
		curRule.cls_dstIp = "0.0.0.0";
		//ip empty so mask empty.
		curRule.cls_dstMask = "0.0.0.0";
	}
	
	//check if port empty.
	if( !(curRule.cls_dstPort == "" && curRule.cls_dstPortMax == "") )
	{
		if(curRule.cls_dstPort == "")
		{
			curRule.cls_dstPort = curRule.cls_dstPortMax;
		}
		if(curRule.cls_dstPortMax == "")
		{
			curRule.cls_dstPortMax = curRule.cls_dstPort;
		}
		//here dstPort and dstPortMax must be couple.
		if(!(IsPort(curRule.cls_dstPort) && IsPort(curRule.cls_dstPortMax) 
			&& Number(curRule.cls_dstPort) >= port_min && Number(curRule.cls_dstPort) <= port_max
			&& Number(curRule.cls_dstPortMax) >= port_min && Number(curRule.cls_dstPortMax) <= port_max)
		)
		{
			ret |= 0x40; //dstPort range format error
			str += WebString.qos_rule_dstPortRange_alert_FE_OOR + " ("+ port_min + "-" + port_max +")\r\n";
		}
		else if(Number(curRule.cls_dstPort) > Number(curRule.cls_dstPortMax))
		{
			ret |= 0x80; //invalid range
			str += WebString.qos_rule_dstPortRange_alert_IR + "\r\n";
		}
	}
	else
	{
		//set to invalide value.
		curRule.cls_dstPort = "0";
		curRule.cls_dstPortMax = "0";
	}
	
	//check if have same rule
	i = haveSameRule(curRule, rules, count);
	if(i != 0)
	{
		str = WebString.qos_rule_same_alert + i;
		alert(str);
		return 0x10000;
	}

	if(ret != 0x0)
	{
		alert(str);
		return ret;
	}
	
	//if can submit, set value to web form
	$("#cls_proto").attr("value", curRule.cls_proto);
	$("#cls_srcIp").attr("value", curRule.cls_srcIp);
	$("#cls_srcMask").attr("value", curRule.cls_srcMask);
	$("#cls_srcPort").attr("value", curRule.cls_srcPort);
	$("#cls_srcPortMax").attr("value", curRule.cls_srcPortMax);
	$("#cls_dstIp").attr("value", curRule.cls_dstIp);
	$("#cls_dstMask").attr("value", curRule.cls_dstMask);
	$("#cls_dstPort").attr("value", curRule.cls_dstPort);
	$("#cls_dstPortMax").attr("value", curRule.cls_dstPortMax);
	$("#action_queue").attr("value", curRule.action_queue);
	$("#action_pbitVal").attr("value", curRule.action_pbit);
	$("#action_dscpVal").attr("value", curRule.action_dscp);
	$("#cls_discription").attr("value", curRule.cls_discription);

	return 0;
}

function doSubmit(op, rule_index)
{
	if(op == 1)
	{
		if(doCheckRuleAdd(count, rules_max) != 0)
		{
			return 1;
		}
	}
	else if (op == 2)
	{
		if (!confirm(WebString.delete_confirm))
		{
			return;
		}
	}

	//0 : qos enable apply, 1 : rule remove, 2 : rule add
	$("#qos_op").attr("value", op);
	//rule index
	$("#rule_index").attr("value", rule_index);
	$("#qos_template").attr("value", "L342");

	XDoSubmit();
}

function WebDoSubmit()
{
	$("#XForm").submit();
}

//---------------init value--------------------
function WebInit()
{
	showQosEnable(enable);
	showQueueList(queue, queue_num);
	showRuleList(rules, count);
	showRuleQueueSelection(queue_num);

	//cls
	doActionPbit();
	doActionDscp();

	//don't show rate in queue list:
	$(".class_rate_content_show").hide();
	//$(".class_rate_title_show").hide();

	WebStepIndex();
}

function qosModeChange()
{
	var index = $("#cls_proto").attr("value");
	if (4 == index)
	{
		document.getElementById("src_port_show").style.display="none";
		document.getElementById("dst_port_show").style.display="none";
		
	}
	else
	{
		document.getElementById("src_port_show").style.display="block";
		document.getElementById("dst_port_show").style.display="block";
	}
}

//------------------setup triger----------------
$(document).ready(function(){
	$("input").css("ime-mode","disabled");
	//qos enable
	$("#qos_en").change(function(){
		if($("#qos_en").attr("checked"))
			$("#qos_content").show();
	});
	$("#qos_dis").change(function(){
		if($("#qos_dis").attr("checked"))
			$("#qos_content").hide();
	});

	//submit
	$("#qos_en_apply").click(function(){
		doSubmit(0, 0);
	});

	$("#rule_add").click(function(){
		doSubmit(1, rules_max);
	});

	$("#action_pbit").change(function(){
		doActionPbit();
	});
	
	$("#action_dscp").change(function(){
		doActionDscp();
	});
	
});

//Client contents ended.

//]]>
</script>
<% PrintTemplate2(); %>

			<!-- start qos content -->
			<div class="cfgstep">
				<p><strong id="XS0"></strong></p>
				<table>
				<tbody>
				<tr>
					<td width="200" id="XS1"></td>
					<td>
						<input name="qos_en" value="1" id="qos_en" type="radio"/><label for="qos_en" id="XS2"></label>&nbsp;&nbsp;
						<input name="qos_en" value="0" id="qos_dis" type="radio"/><label for="qos_dis" id="XS3"></label>
					</td>
				</tr>
				</tbody>
				</table>
			</div>

			<div class="cfgstep">
				<p><strong  id="XS4"></strong></p>
				<a href="#" class="btn apply_btn" id="qos_en_apply"><script>document.write(WebString.Apply);</script></a>
			</div>

			<div id="qos_content">
				<div class="cfglist" style="display: none">
					<table>
					<tbody id="table_queue_list">
						<tr>
							<th colspan="5" class="tableTitle"  id="XS6"></th>
						</tr>
						<tr>
							<th id="XS7" style="width: 20%"></th>
							<th id="XS8" style="width: 20%"></th>
							<th id="XS9" style="width: 20%"></th>
							<th id="XS10" style="width: 20%"></th>
							<th id="XS11" style="width: 20%"></th>
							<!--th id="XS12" class="class_rate_title_show"--></th>
						</tr>						
					</tbody>
					</table>
					
					<table>
						<tr><td>
							<a id="qos_modify" class="btn" href="qos_queue.html"><script type="text/javascript">document.write(WebString.Modify);</script></a></td></tr>
					</table>
				</div>

				<div class="cfglist">
					<table>
					<tbody id="table_rule_list">
						<tr>
							<th colspan="6" class="tableTitle"  id="XS14"></th>
						</tr>
						<tr align="center">
							<th id="XS15"></th>
							<th id="XS17"></th>
							<th id="XS104"></th>
							<th id="XS100"></th>
							<th id="XS20"></th>
						</tr>
					</tbody>
					</table>
				</div>
				<div id="custom_qos">
					<div class="cfgstep" id="qos_class">
						<p><strong id="XS31"></strong> </p>
						<table>
						<tbody style="display:block;" align="left">
							<tr id="protocol_show">
								<td width="200" id="XS34"></td>
								<td>
									<select name="cls_proto" id="cls_proto" onchange="qosModeChange()">
										<option value="0" id="XS105"></option>
										<option value="1" id="XS35"></option>
										<option value="2" id="XS36"></option>
										<option value="3" id="XS37"></option>
									    <option value="4" id="XS65"></option>
									</select>
								</td>
							</tr>
							<tr id="src_ip_show">
								<td width="200" id="XS38"></td>
								<td><input name="cls_srcIp" id="cls_srcIp" size="15" maxlength="15" type="text"></td>
							</tr>
							<tr id="src_netmask_show">
								<td width="200" id="XS39"></td>
								<td><input name="cls_srcMask" id="cls_srcMask" size="15" maxlength="15" type="text"></td>
							</tr>
							<tr id="src_port_show">
								<td width="200" id="XS40"></td>
								<td white-space: nowrap>
									<input name="cls_srcPort" id="cls_srcPort" size="5" maxlength="5" type="text">
									<span id="XS41"></span>
									<input name="cls_srcPortMax" id="cls_srcPortMax" size="5" maxlength="5" type="text">
								</td>
							</tr>
							<tr id="dst_ip_show">
								<td width="200" id="XS42"></td>
								<td><input name="cls_dstIp" id="cls_dstIp" size="15" maxlength="15" type="text"></td>
							</tr>
							<tr id="dst_netmask_show">
								<td width="200" id="XS43"></td>
								<td><input name="cls_dstMask" id="cls_dstMask" size="15" maxlength="15" type="text"></td>
							</tr>
							<tr id="dst_port_show">
								<td width="200" id="XS44"></td>
								<td white-space: nowrap>
									<input name="cls_dstPort" id="cls_dstPort" size="5" maxlength="5" type="text" >
									<span id="XS45"></span>
									<input name="cls_dstPortMax" id="cls_dstPortMax" size="5" maxlength="5" type="text">
								</td>
							</tr>
							<tr>
								<td width="200" id="XS104">Priority</td>
								<td>
									<select name="action_queue" id="action_queue" >
									</select>
								</td>
							</tr>
							<tr id="discription_show">
								<td width="200" id="XS100">Discription</td>
								<td white-space: nowrap>
									<input name="cls_discription" id="cls_discription" size="15" maxlength="32" type="text" >
									
								</td>
							</tr>
						</tbody>
						</table>
					</div>

					<div class="cfgstep" style="display: none">
						<p><strong id="XS46"></strong> </p>
						<table>
						<tbody style="display:block;" align="left">
							<tr id="pbit_action_show">
								<td width="200" id="XS47"></td>
								<td> <input name="action_pbit" id="action_pbit" type="checkbox"></td> 
							</tr>
							<tr id="pbit_action_show">
								<td width="200" id="XS48"></td>
								<td>
									<select name="action_pbitVal" id="action_pbitVal">
										<option value="0">0</option>
										<option value="1">1</option>
										<option value="2">2</option>
										<option value="3">3</option>
										<option value="4">4</option>
										<option value="5">5</option>
										<option value="6">6</option>
										<option value="7">7</option>
									</select>
								</td>
							</tr>
							<tr id="pbit_action_show">
								<td width="200" id="XS49"></td>
								<td> <input name="action_dscp" id="action_dscp" type="checkbox"></td>
							</tr>
							<tr id="dscp_action_show">
								<td width="200" id="XS50"></td>
								<td>
								<select name="action_dscpVal" id="action_dscpVal">
									<option value="56">CS7 - 111000</option>
									<option value="48">CS6 - 110000</option>
									<option value="46">EF - 101110</option>
									<option value="40">CS5 - 101000</option>
									<option value="34">AF41 - 100010</option>
									<option value="36">AF42 - 100100</option>
									<option value="38">AF43 - 100110</option>
									<option value="32">CS4 - 100000</option>
									<option value="26">AF31 - 011010</option>
									<option value="28">AF32 - 011100</option>
									<option value="30">AF33 - 011110</option>
									<option value="24">CS3 - 011000</option>
									<option value="18">AF21 - 010010</option>
									<option value="20">AF22 - 010100</option>
									<option value="22">AF23 - 010110</option>
									<option value="16">CS2 - 010000</option>
									<option value="10">AF11 - 001010</option>
									<option value="12">AF12 - 001100</option>
									<option value="14">AF13 - 001110</option>
									<option value="8">CS1 - 001000</option>
								</select>
								</td>
							</tr>
						</tbody>
						</table>
					</div>
					<div class="cfgstep">
						<p><strong id="XS53"></strong></p>
						<a href="#" class="btn apply_btn" id="rule_add"><script type="text/javascript">
						document.write(XqosString[54]);</script></a>
					</div>

				</div>
				<!-- for send data to web server -->
				<div style="display:none">
					<input type="text" name="qos_op" id="qos_op" value="" size="80">
					<input type="text" name="rule_index" id="rule_index" value="" size="80">
					<input type="text" name="qos_template" id="qos_template" value="" size="80">
				</div>
			</div>
			<!-- end qos content -->


<% PrintTemplate3(); %>
