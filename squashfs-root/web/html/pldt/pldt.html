<!DOCTYPE html PUBLIC "-//W3C//Dtd XHTML 1.0 Transitional//EN" "http://www.w3.org/tr/xhtml1/Dtd/xhtml1-Transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="utf-8" lang="utf-8" dir="ltr">
<head>
<title></title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE">
<link href="style/ont.css" rel="stylesheet" type="text/css" />
<script language="Javascript" src="script/jquery.js" type="text/javascript"></script>
<script language="Javascript" src="script/sha256.js" type="text/javascript"></script>
<%ImportLangJS();%>
<style type="text/css">
body#login{
	background: #fff;
    font-size: 12px;
    line-height: 16px;
}

#login_wrapper {
	background: #E6E6E6;
	border-radius: 8px 8px 8px 8px;
		-moz-border-radius: 8px 8px 8px 8px;
		-webkit-border-radius: 8px 8px 8px 8px;
	-webkit-box-shadow: #666 0px 3px 4px;
	-moz-box-shadow: #666 0px 3px 4px;
	box-shadow: #666 0px 3px 4px;
	margin-left: auto;
	margin-right: auto;
	padding: 15px 20px;
	behavior: url(style/css3pie/PIE.htc);
    width: 600px;
}

#login_header {
    height: 80px;
    position: relative;
}

#login_header #logo {
    display: block;
    float: left;
    height: 78px;
    margin: 0 0 10px;
    overflow: hidden;
    position: relative;
    width: 188px;
}

#login_header #dev_name {
    color: #909090;
    float: left;
    font-size: 24px;
    line-height: 24px;
    margin: 20px;
}

#login_content {
    margin: 0;
    width: 600px;
    text-align: center;
}

#login_content .cfgstep {
    background: none repeat scroll 0 0 #FFFFFF;
    margin-bottom: 0px;
    margin-left: 0;
    padding: 12px 0;
}

#login_content table {
    background: none repeat scroll 0 0 #FFFFFF;
    border-collapse: collapse;
    color: #000000;
    font-size: 13px;
    line-height: 16px;
    margin: 20px auto 0;
    text-align: center;
    width: 500px;
}

#login_content table td {
    background: none repeat scroll 0 0 #FFFFFF;
    margin: 0;
    padding: 7px 10px;
    text-align: left;
    vertical-align: top;
}

#login_err {
	color: #F00;
    font-size: 13px;
    line-height: 26px;
}

#btn_login {
	margin: 20px auto;
    padding: 7px 28px;
}

#login .btn {
	background: #0077ee; /* Old browsers */
	background: -moz-linear-gradient(top, #00CCFF 0%, #004CE5 100%); /* FF3.6+ */
	background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#00CCFF), color-stop(100%,#004CE5)); /* Chrome,Safari4+ */
	background: -webkit-linear-gradient(top, #00CCFF 0%,#004CE5 100%); /* Chrome10+,Safari5.1+ */
	background: -o-linear-gradient(top, #00CCFF 0%,#004CE5 100%); /* Opera11.10+ */
	background: -ms-linear-gradient(top, #00CCFF 0%,#004CE5 100%); /* IE10+ */
	background: linear-gradient(top, #00CCFF 0%,#004CE5 100%); /* W3C */
	border-radius:6px 6px 6px 6px;
		-moz-border-radius:6px 6px 6px 6px;
		-webkit-border-radius:6px 6px 6px 6px;
    display: inline-block;
    position: relative;
    text-align: center;
    text-decoration: none;
    color: #FFFFFF;
    font-weight: bold;
    font-size: 14px;
    line-height: 16px;
    text-shadow: 1px 1px 4px #000000;
	behavior: url(style/css3pie/PIE.htc);
}

#login .btn:hover {
	background:#00A5FF;
	text-shadow:none;
}

#login_footer {
    color: #000000;
    font-size: 12px;
    line-height: 14px;
    margin: 0;
    text-align: center;
}
</style>
<script type="text/javascript">
//<![CDATA[

var XOntName = "";
var XUsername = "";
var loginErr = 0;

<% GetCommonConfig(); %>
<% Login_GetConfig(); %>

function WebLoadString()
{
	document.title = WebString.OntName;
	$("#dev_name").html(WebString.OntName);
	$("#XS0").html(WebString.Username);
	$("#XS1").html(WebString.Password);
	$("#btn_login").html(WebString.Login);
	if (WebString.CopyrightInfo.length > 0)
	{
		$("#login_footer").html(WebString.Copyright + " &copy;  "+ new Date().getFullYear() + ", " + WebString.CopyrightInfo);
	}
}

function WebInit()
{
	WebLoadString();

	$("#username").val(XUsername);
	$("#username").focus();
	if (login_deny > 0) {
		$("#login_err").html(WebString.LoginDeny);
	} else {
		if (loginErr > 0)
		{
			$("#login_err").html(WebString.LoginError);
		}
	}

	if (loginMax > 0)
	{
		$("#login_err").html(WebString.LoginCountError);
	}
}

function OnUserEnter(e)
{
	var	k = 0;

	if (window.event)
	{
		k = e.keyCode;
	}
	else if (e.which)
	{
		k = e.which;
	}

	if (k == 13)
	{
		$("#password").focus();
	}
}

function OnEnter(e)
{
	var	k = 0;

	if (window.event)
	{
		k = e.keyCode;
	}
	else if (e.which)
	{
		k = e.which;
	}

	if (k == 13)
	{
		OnLogin();
	}
}

function OnLogin()
{
	var key = "";
	var len = 0;
	var pwd_bf = "";

	len = $("#username").val().length;
	if (len == 0 || len > 64)
	{
		alert(WebString.username_alert);
		$("#username").focus();
		return;
	}
	
	len = $("#password").val().length;
	if (len == 0 || len > 64)
	{
		alert(WebString.password_alert);
		$("#password").focus();
		return;
	}
	pwd_bf = $("#username").val() + "d2" + $("#password").val();
	key = sha256_digest(pwd_bf);
	$("#XRanID").val(key);
	$("#XNonce").val(nonce);

	//clear #username and #password
	$("#username").val("");
	$("#password").val("");
	
	$("#XForm").submit();
}

$(document).ready(function () {
	
	WebInit();
	
	if (window.top != window.self) {
		window.top.location.href = "login.html";
		return;
	}

	$("#btn_login").click(OnLogin);
});

//]]>
</script>

</head>

<body id="login">
	<div style="height: 100px">
	</div>
	<div id="login_wrapper">
		<div id="login_header">
	  		<h1><a id="logo" href="index.html"><img src="images/logo.png"/></a></h1>
	  		<div id="header_right">
	  			<h2 id="dev_name"></h2>
	  		</div>
		</div>
		<div id="login_content">
		    <form id="XForm" name="XForm" method="post" action="/GponForm/LoginForm">
			<input id="XRanID" name="XRanID" type="hidden" value="" />
			<input id="XNonce" name="XNonce" type="hidden" value="" />
			<input type="hidden" id="XPldt" name="XPldt" value="1" />
			<input type="hidden" id="XWebPageName" name="XWebPageName" value="index" />
        		<div id="cfgareadark">
	           		<div class="cfgstep">
	             		<table>
							<tr>
								<td id="XS0" width="200"></td>
								<td><input type="text" id="username" value="" style="width:150px" onkeypress="OnUserEnter(event);" /></td>
							</tr>
							<tr>
								<td id="XS1" width="200"></td>
								<td><input type="password" id="password" autocomplete="off" style="width:150px" onkeypress="OnEnter(event);" /></td>
							</tr>
						</table>
						<div id="login_err" style="height: 20px"></div>
						<a href="#" id="btn_login" class="btn"></a>
					</div>
				</div>
		    </form>
		</div>
		<div id="login_footer" name="login_footer"></div>
	</div>
</body>
</html>
